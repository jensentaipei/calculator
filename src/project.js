window.__require=function t(e,o,i){function n(r,c){if(!o[r]){if(!e[r]){var h=r.split("/");if(h=h[h.length-1],!e[h]){var l="function"==typeof __require&&__require;if(!c&&l)return l(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+r+"'")}}var a=o[r]={exports:{}};e[r][0].call(a.exports,function(t){return n(e[r][1][t]||t)},a,a.exports,t,e,o,i)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({core:[function(t,e,o){"use strict";cc._RF.push(e,"470974chDFNcr+M60AWCe2j","core"),cc.Class({extends:cc.Component,properties:{buttonPrefab:{default:null,type:cc.Prefab},scoreDisplayPrefab:{default:null,type:cc.Prefab},styleChangeToggle:{default:null,type:cc.Prefab},normal:{default:null,type:cc.SpriteFrame},normalCircle:{default:null,type:cc.SpriteFrame},press:{default:null,type:cc.SpriteFrame},pressCircle:{default:null,type:cc.SpriteFrame},slideFontSize:{default:null,type:cc.Prefab},featuresPrefab:{default:null,type:cc.Prefab},keyBoard:{default:null,type:cc.Prefab},scoreColorToggle:{default:null,type:cc.Prefab}},onLoad:function(){this.insString(),this.insNumButton(),this.insCalButton(),this.insStyleToggle(),this.insSlide(),this.insFeatures(),this.insKeyboard(),this.insScoreColorToggle(),this.showScore=this.node.getChildByName("String").getChildByName("ScoreDisplay").getComponent(cc.Label),this.ScoreColor=this.node.getChildByName("String").getChildByName("ScoreDisplay"),this.showScore.string="0",this.state="=",this.templast="",this.checkOper=!1,this.score=0,this.ifNaN=!1,this.scoreColorBoolean=!1,this.ratio=.15,this.ratioBoolean=!0},insString:function(){var t=cc.instantiate(this.scoreDisplayPrefab);this.node.addChild(t)},insNumButton:function(){for(var t=this,e=function(e){var o=cc.instantiate(t.buttonPrefab),i=o.getComponent("setButton");i.title=e.toString(),o.name=e.toString(),i.whatInButton=function(){return t.process(i.title)},t.node.addChild(o)},o=0;o<=9;o++)e(o)},insCalButton:function(){for(var t=this,e=this.allButton(),o=function(o){var i=cc.instantiate(t.buttonPrefab),n=i.getComponent("setButton");n.title=e[o],i.name=e[o],n.whatInButton=function(){return t.process(n.title)},t.node.addChild(i)},i=0;i<10;i++)o(i)},insStyleToggle:function(){var t=this,e=cc.instantiate(this.styleChangeToggle);e.getComponent("setToggle").OnToggle=function(){return t.style()},this.node.addChild(e),e.active=!1},insSlide:function(){var t=this,e=cc.instantiate(this.slideFontSize);e.getComponent("setSlide").OnSlide=function(){return t.slideRow()},this.node.addChild(e),e.active=!1},insFeatures:function(){var t=this,e=cc.instantiate(this.featuresPrefab);e.getComponent("setFeaturesToggle").OnSwitch=function(){return t.featuresSwitch()},this.node.addChild(e)},insKeyboard:function(){var t=this,e=cc.instantiate(this.keyBoard);e.getComponent("setKeyboard").OnKeyboard=function(){return t.keyBoardSwitch()},this.node.addChild(e)},insScoreColorToggle:function(){var t=this,e=cc.instantiate(this.scoreColorToggle);e.getComponent("setScoreColor").OnScoreColor=function(){return t.scoreColorChange()},this.node.addChild(e),e.active=!1},process:function(t){var e=parseInt(t);if(isNaN(e))if("."===t||"%"===t||"\xb1"===t||"AC"===t||"\u2190"===t)switch(t){case".":this.dotFun(),this.changeCheckOper();break;case"%":this.percentFun();break;case"\xb1":this.nagativeFun();break;case"AC":this.cleanAllFun();break;case"\u2190":this.backFun()}else"+"===this.templast||"-"===this.templast||"x"===this.templast||"\xf7"===this.templast?this.state=t:this.calFun(t);else this.inputNumber(t);this.checkNaN(),this.templast=t},inputNumber:function(t){this.checkOper&&(this.showScore.string="0",this.checkOper=!1),"0"===this.showScore.string?this.showScore.string=""+t:this.showScore.string+=t},dotFun:function(){-1==this.showScore.string.indexOf(".")&&(this.showScore.string+=".")},percentFun:function(){var t=new Number(this.showScore.string);t/=100,t=parseFloat(t.toPrecision(12)),this.showScore.string=t},nagativeFun:function(){if(-1==this.showScore.string.indexOf("-"))this.showScore.string="-"+this.showScore.string;else{var t=this.showScore.string.split("-");this.showScore.string=t[1]}"-0"===this.showScore.string&&(this.showScore.string="0")},cleanAllFun:function(){this.showScore.string="0",this.resetSet()},resetSet:function(){this.state="=",this.templast="",this.score=0},backFun:function(){if(!this.checkOper)if(this.ifNaN)this.showScore.string="0",this.ifNaN=!1;else{var t=this.showScore.string.substring(0,this.showScore.string.length-1);this.showScore.string=t,""!==this.showScore.string&&"-"!==this.showScore.string||(this.showScore.string="0")}},calFun:function(t){var e=new Number(this.showScore.string);switch(this.state){case"+":this.score+=e;break;case"-":this.score-=e;break;case"x":this.score=this.score*e;break;case"\xf7":this.score=this.score/e;break;case"=":this.score=e}this.score=parseFloat(this.score.toPrecision(12)),this.showScore.string=this.score,this.checkOper=!0,this.state=t},changeCheckOper:function(){this.checkOper&&(this.checkOper=!1)},checkNaN:function(){"Infinity"!==this.showScore.string&&"-Infinity"!==this.showScore.string&&"NaN"!==this.showScore.string&&"\u4e0d\u662f\u6578\u5b57"!==this.showScore.string&&"-\u4e0d\u662f\u6578\u5b57"!==this.showScore.string||(this.showScore.string="\u4e0d\u662f\u6578\u5b57",this.resetSet(),this.checkOper=!0,this.ifNaN=!0),this.changeOperationColor()},changeOperationColor:function(){for(var t=this.allButton(),e=1;e<5;e++){var o=this.node.getChildByName(t[e]).getChildByName("Background").getChildByName("Label");o.color=new cc.color(0,0,0),o.getComponent(cc.Label).fontSize=20}if("+"===this.state||"-"===this.state||"x"===this.state||"\xf7"===this.state){var i=this.state,n=this.node.getChildByName(i).getChildByName("Background").getChildByName("Label");n.color=new cc.color(255,255,255),n.getComponent(cc.Label).fontSize=38}},allButton:function(){for(var t=["=","+","-","x","\xf7","\u2190","%","\xb1","AC","."],e=0;e<=9;e++)t.push(e.toString());return t},style:function(){for(var t=this.allButton(),e=this.node.getChildByName("ChangeStyle").getChildByName("original").getComponent(cc.Toggle).isChecked,o=this.node.getChildByName("ChangeStyle").getChildByName("circle").getComponent(cc.Toggle).isChecked,i=0;i<t.length;i++){var n=this.node.getChildByName(t[i]).getComponent(cc.Button);e?(n.normalSprite=this.normal,n.pressedSprite=this.press,n.hoverSprite=this.normal):o&&(n.normalSprite=this.normalCircle,n.pressedSprite=this.pressCircle,n.hoverSprite=this.normalCircle)}},slideRow:function(){var t=this.node.getChildByName("ChangeColor").getComponent(cc.Slider).progress,e=this.allButton();console.log(e);for(var o=6;o<e.length;o++){var i=this.node.getChildByName(e[o]).getChildByName("Background").getChildByName("Label");this.rainbowColor(t,i)}},featuresSwitch:function(){var t=this.node.getChildByName("FeaturesSwitch").getComponent(cc.Toggle).isChecked,e=this.node.getChildByName("ChangeStyle"),o=this.node.getChildByName("ChangeColor"),i=this.node.getChildByName("ScoreColor");t?(e.active=!0,o.active=!0,i.active=!0):t||(e.active=!1,o.active=!1,i.active=!1)},findPrecent:function(t,e,o){return(e-t)/(o-t)},keyBoardSwitch:function(){this.node.getChildByName("KeyBoard").getComponent(cc.Toggle).isChecked?cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this):cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(t){t.keyCode<47||t.keyCode>58||this.process(t.keyCode-48)},rainbowColor:function(t,e){console.log(t+e);var o=t,i=e,n=new cc.Color(148,0,211),s=new cc.Color(75,0,130);o<1/7?i.color=cc.Color.BLACK.lerp(cc.Color.RED,this.findPrecent(0,o,1/7)):o<2/7?i.color=cc.Color.RED.lerp(cc.Color.ORANGE,this.findPrecent(1/7,o,2/7)):o<3/7?i.color=cc.Color.ORANGE.lerp(cc.Color.YELLOW,this.findPrecent(2/7,o,3/7)):o<4/7?i.color=cc.Color.YELLOW.lerp(cc.Color.GREEN,this.findPrecent(3/7,o,4/7)):o<5/7?i.color=cc.Color.GREEN.lerp(cc.Color.BLUE,this.findPrecent(4/7,o,5/7)):o<6/7?i.color=cc.Color.BLUE.lerp(s,this.findPrecent(5/7,o,6/7)):o.color<1&&(i=s.lerp(n,this.findPrecent(6/7,o,1)))},scoreColorChange:function(){var t=this.node.getChildByName("ScoreColor").getComponent(cc.Toggle).isChecked;this.scoreColorBoolean=!!t},update:function(t){this.scoreColorBoolean?(this.ratioBoolean?(this.ratio+=.4*t,this.ratio>1&&(this.ratioBoolean=!1)):(this.ratio-=.4*t,this.ratio<.15&&(this.ratioBoolean=!0)),this.rainbowColor(this.ratio,this.ScoreColor)):this.ScoreColor.color=new cc.Color(255,255,255)}}),cc._RF.pop()},{}],setButton:[function(t,e,o){"use strict";cc._RF.push(e,"8fcddez8iRGqZpMwMcrDSyi","setButton"),cc.Class({extends:cc.Component,properties:{title:""},onLoad:function(){this.buttonName().string=this.title,this.node.setPosition(this.setPos(this.title)),this.setSize(),this.setColor(),this.setButtinEvent()},getButton:function(){return this.node.getComponent(cc.Button)},buttonName:function(){return this.getButton().node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label)},setSize:function(){"0"===this.title?this.node.setContentSize(212,40):"\u2190"===this.title&&this.node.setContentSize(147,40)},setColor:function(){"="===this.title||"+"===this.title||"-"===this.title||"x"===this.title||"\xf7"===this.title?this.node.getChildByName("Background").color=new cc.color(255,100,38):"\u2190"===this.title&&(this.node.getChildByName("Background").color=new cc.color(201,198,198))},setPos:function(t){if(isNaN(t)){var e,o,i=["=","+","-","x","\xf7"],n=["AC","\xb1","%"];if("="===t||"+"===t||"-"===t||"x"===t||"\xf7"===t){e=3;for(var s=0;s<i.length;s++)t===i[s]&&(o=s-1)}else if("AC"===t||"\xb1"===t||"%"===t){o=3;for(var r=0;r<n.length;r++)t===n[r]&&(e=r)}else if("."===t)e=2,o=-1;else if("\u2190"===t)return cc.v2(170.8,66);var c=113*e-147,h=55*o-150;return cc.v2(c,h)}if("0"===t){return cc.v2(-91,-205)}var l=(t-1)%3*113-147,a=55*Math.floor((t-1)/3)-150;return cc.v2(l,a)},setButtinEvent:function(){var t=this;this.node.on("click",function(){return t.whatInButton()})}}),cc._RF.pop()},{}],setFeaturesToggle:[function(t,e,o){"use strict";cc._RF.push(e,"459e3LU2fRKs4VjitxUNAlf","setFeaturesToggle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.setPosition(cc.v2(230,180)),this.setToggle()},setToggle:function(){var t=this;this.node.on("toggle",function(){return t.OnSwitch()})}}),cc._RF.pop()},{}],setKeyboard:[function(t,e,o){"use strict";cc._RF.push(e,"2fa7dLSOHpIUr5X7jbq8SlQ","setKeyboard"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.setPosition(cc.v2(230,220)),this.setKeyboard()},setKeyboard:function(){var t=this;this.node.on("toggle",function(){return t.OnKeyboard()})}}),cc._RF.pop()},{}],setScoreColor:[function(t,e,o){"use strict";cc._RF.push(e,"09d22smVdBGlJn4Ql0bkIKe","setScoreColor"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.setPosition(cc.v2(230,140)),this.setToggle()},setToggle:function(){var t=this;this.node.on("toggle",function(){return t.OnScoreColor()})}}),cc._RF.pop()},{}],setSlide:[function(t,e,o){"use strict";cc._RF.push(e,"721373GHYxAEbHZ/rJ61HJh","setSlide"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.setPosition(cc.v2(280,-70)),this.setSlide()},setSlide:function(){var t=this;this.node.on("slide",function(){return t.OnSlide()})}}),cc._RF.pop()},{}],setString:[function(t,e,o){"use strict";cc._RF.push(e,"7176aCSVhJIlLRcs2BllZMj","setString"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.getChildByName("ScoreDisplay").setPosition(cc.v2(22,130)),this.node.getChildByName("KeyBoard").setPosition(cc.v2(150,220)),this.node.getChildByName("Features").setPosition(cc.v2(150,180))}}),cc._RF.pop()},{}],setToggle:[function(t,e,o){"use strict";cc._RF.push(e,"171b3gaCXhKMaS5vypmgBzR","setToggle"),cc.Class({extends:cc.Component,properties:{normaltoggle:cc.Toggle,circletoggle:cc.Toggle},onLoad:function(){this.node.setPosition(cc.v2(45,250)),this.setoggle()},setoggle:function(){var t=this;this.normaltoggle.node.on("toggle",function(){return t.OnToggle()}),this.circletoggle.node.on("toggle",function(){return t.OnToggle()})}}),cc._RF.pop()},{}]},{},["core","setButton","setFeaturesToggle","setKeyboard","setScoreColor","setSlide","setString","setToggle"]);