window.__require=function t(e,s,i){function n(r,c){if(!s[r]){if(!e[r]){var h=r.split("/");if(h=h[h.length-1],!e[h]){var a="function"==typeof __require&&__require;if(!c&&a)return a(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+r+"'")}}var l=s[r]={exports:{}};e[r][0].call(l.exports,function(t){return n(e[r][1][t]||t)},l,l.exports,t,e,s,i)}return s[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({core:[function(t,e,s){"use strict";cc._RF.push(e,"470974chDFNcr+M60AWCe2j","core"),cc.Class({extends:cc.Component,properties:{ButtonPrefab:{default:null,type:cc.Prefab},ScoreDisplayPrefab:{default:null,type:cc.Prefab},changetoggle:{default:null,type:cc.Prefab},normal:{default:null,type:cc.SpriteFrame},normalCircle:{default:null,type:cc.SpriteFrame},press:{default:null,type:cc.SpriteFrame},pressCircle:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.insScoreDisplay(),this.insNumButton(),this.insCalButton(),this.insToggle(),this.showScore=this.node.getChildByName("ScoreDisplay").getComponent(cc.Label),this.showScore.string="0",this.state="=",this.templast="",this.checkOper=!1,this.score=0,this.ifNaN=!1},insScoreDisplay:function(){var t=cc.instantiate(this.ScoreDisplayPrefab);this.node.addChild(t)},insNumButton:function(){for(var t=this,e=function(e){var s=cc.instantiate(t.ButtonPrefab),i=s.getComponent("setbutton");i.title=e.toString(),s.name=e.toString(),i.whatInButton=function(){return t.process(i.title)},t.node.addChild(s)},s=0;s<=9;s++)e(s)},insCalButton:function(){for(var t=this,e=[".","=","+","-","x","\xf7","%","\xb1","AC","\u2190"],s=function(s){var i=cc.instantiate(t.ButtonPrefab),n=i.getComponent("setbutton");n.title=e[s],i.name=e[s],n.whatInButton=function(){return t.process(n.title)},t.node.addChild(i)},i=0;i<e.length;i++)s(i)},insToggle:function(){var t=this,e=cc.instantiate(this.changetoggle);e.getComponent("settoggle").OnToggle=function(){return t.compareToggle()},this.node.addChild(e)},process:function(t){var e=parseInt(t);if(isNaN(e))if("."===t||"%"===t||"\xb1"===t||"AC"===t||"\u2190"===t)switch(t){case".":this.dotFun(),this.changeCheckOper();break;case"%":this.percentFun();break;case"\xb1":this.nagativeFun();break;case"AC":this.cleanAllFun();break;case"\u2190":this.backFun()}else"+"===this.templast||"-"===this.templast||"x"===this.templast||"\xf7"===this.templast?this.state=t:this.calFun(t);else this.inputNumber(t);this.checkNaN(),this.templast=t},inputNumber:function(t){this.checkOper&&(this.showScore.string="0",this.checkOper=!1),"0"===this.showScore.string?this.showScore.string=""+t:this.showScore.string+=t},dotFun:function(){-1==this.showScore.string.indexOf(".")&&(this.showScore.string+=".")},percentFun:function(){var t=new Number(this.showScore.string);t/=100,t=parseFloat(t.toPrecision(12)),this.showScore.string=t},nagativeFun:function(){if(-1==this.showScore.string.indexOf("-"))this.showScore.string="-"+this.showScore.string;else{var t=this.showScore.string.split("-");this.showScore.string=t[1]}"-0"===this.showScore.string&&(this.showScore.string="0")},cleanAllFun:function(){this.showScore.string="0",this.resetSet()},resetSet:function(){this.state="=",this.templast="",this.score=0},backFun:function(){if(!this.checkOper)if(this.ifNaN)this.showScore.string="0",this.ifNaN=!1;else{var t=this.showScore.string.substring(0,this.showScore.string.length-1);this.showScore.string=t,""!==this.showScore.string&&"-"!==this.showScore.string||(this.showScore.string="0")}},calFun:function(t){var e=new Number(this.showScore.string);switch(this.state){case"+":this.score+=e;break;case"-":this.score-=e;break;case"x":this.score=this.score*e;break;case"\xf7":this.score=this.score/e;break;case"=":this.score=e}this.score=parseFloat(this.score.toPrecision(12)),this.showScore.string=this.score,this.checkOper=!0,this.state=t},changeCheckOper:function(){this.checkOper&&(this.checkOper=!1)},checkNaN:function(){"Infinity"!==this.showScore.string&&"-Infinity"!==this.showScore.string&&"NaN"!==this.showScore.string&&"\u4e0d\u662f\u6578\u5b57"!==this.showScore.string&&"-\u4e0d\u662f\u6578\u5b57"!==this.showScore.string||(this.showScore.string="\u4e0d\u662f\u6578\u5b57",this.resetSet(),this.checkOper=!0,this.ifNaN=!0),this.changeOperationColor()},changeOperationColor:function(){for(var t=["+","-","x","\xf7"],e=0;e<t.length;e++){var s=this.node.getChildByName(t[e]).getChildByName("Background").getChildByName("Label");s.color=new cc.color(0,0,0),s.getComponent(cc.Label).fontSize=20}if("+"===this.state||"-"===this.state||"x"===this.state||"\xf7"===this.state){var i=this.state,n=this.node.getChildByName(i).getChildByName("Background").getChildByName("Label");n.color=new cc.color(255,255,255),n.getComponent(cc.Label).fontSize=38}},compareToggle:function(){for(var t=[".","=","+","-","x","\xf7","%","\xb1","AC","\u2190"],e=0;e<=9;e++)t.push(e.toString());for(var s=this.node.getChildByName("changeStyle").getChildByName("original").getComponent(cc.Toggle).isChecked,i=this.node.getChildByName("changeStyle").getChildByName("circle").getComponent(cc.Toggle).isChecked,n=0;n<t.length;n++){var o=this.node.getChildByName(t[n]).getComponent(cc.Button);s?(o.normalSprite=this.normal,o.pressedSprite=this.press,o.hoverSprite=this.normal):i&&(o.normalSprite=this.normalCircle,o.pressedSprite=this.pressCircle,o.hoverSprite=this.normalCircle)}}}),cc._RF.pop()},{}],setbutton:[function(t,e,s){"use strict";cc._RF.push(e,"8fcddez8iRGqZpMwMcrDSyi","setbutton"),cc.Class({extends:cc.Component,properties:{title:""},onLoad:function(){this.buttonName().string=this.title,this.node.setPosition(this.setPos(this.title)),this.setSize(),this.setColor(),this.setButtinEvent()},getButton:function(){return this.node.getComponent(cc.Button)},buttonName:function(){return this.getButton().node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label)},setSize:function(){"0"===this.title?this.node.setContentSize(212,40):"\u2190"===this.title&&this.node.setContentSize(147,40)},setColor:function(){"="!==this.title&&"+"!==this.title&&"-"!==this.title&&"x"!==this.title&&"\xf7"!==this.title||(this.node.getChildByName("Background").color=new cc.color(255,100,38))},setPos:function(t){if(isNaN(t)){var e,s,i=["=","+","-","x","\xf7"],n=["AC","\xb1","%"];if("="===t||"+"===t||"-"===t||"x"===t||"\xf7"===t){e=3;for(var o=0;o<i.length;o++)t===i[o]&&(s=o-1)}else if("AC"===t||"\xb1"===t||"%"===t){s=3;for(var r=0;r<n.length;r++)t===n[r]&&(e=r)}else if("."===t)e=2,s=-1;else if("\u2190"===t)return cc.v2(170.8,66);var c=113*e-147,h=55*s-150;return cc.v2(c,h)}if("0"===t){return cc.v2(-91,-205)}var a=(t-1)%3*113-147,l=55*Math.floor((t-1)/3)-150;return cc.v2(a,l)},setButtinEvent:function(){var t=this;this.node.on("click",function(){return t.whatInButton()})}}),cc._RF.pop()},{}],setscoredisplay:[function(t,e,s){"use strict";cc._RF.push(e,"7176aCSVhJIlLRcs2BllZMj","setscoredisplay"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.setPosition(cc.v2(22,130))}}),cc._RF.pop()},{}],settoggle:[function(t,e,s){"use strict";cc._RF.push(e,"171b3gaCXhKMaS5vypmgBzR","settoggle"),cc.Class({extends:cc.Component,properties:{normaltoggle:cc.Toggle,circletoggle:cc.Toggle},onLoad:function(){this.node.setPosition(cc.v2(45,250)),this.setoggle()},setoggle:function(){var t=this;this.normaltoggle.node.on("toggle",function(){return t.OnToggle()}),this.circletoggle.node.on("toggle",function(){return t.OnToggle()})}}),cc._RF.pop()},{}]},{},["core","setbutton","setscoredisplay","settoggle"]);